S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = coldf, cex = 0.5)
collist=as.list(coldf)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
coldf
collist=as.list(coldf)
collist
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, cex = 0.5)
require(vegan)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
coldf
collist=as.list(coldf)
collist
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
# calculate the rarefaction curve
rarefied_counts <- rarefy(df1[][5:ncol(df1)])
rare_curve <- rarecurve(rarefied_counts, step = 20)
require(vegan)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, cex = 0.5)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
df = df[0:4]
head(df)
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
df = df[][0:4]
head(df)
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
df = df[1:3, ]
head(df)
dim(df)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
df = df[1:4, ]
dim(df)
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
coldf
collist=as.list(coldf)
collist
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
# calculate the rarefaction curve
rarefied_counts <- rarefy(df1[][5:ncol(df1)])
rare_curve <- rarecurve(rarefied_counts, step = 20)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
df = df[1:4, ]
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, cex = 0.5)
require(vegan)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
df = df[1:10, ]
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, cex = 0.5)
require(vegan)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
df = df[1:10, ]
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, lty = 2, cex = 0.5)
require(vegan)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
df = df[1:10, ]
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, lty = 3, cex = 0.5)
require(vegan)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
df = df[1:10, ]
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, lwd = 3, cex = 0.5)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, lwd = 3, cex = 0.5)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
#df = df[1:10, ]
unique(df[c('site')])
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
#df = df[1:10, ]
unique(df[c('site')])
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "SLG"] <- 'darkred'
coldf[coldf == "PNR"] <- 'forestgreen'
coldf[coldf == "RF"] <- 'hotpink'
coldf[coldf == "FRW"] <- 'blue'
coldf[coldf == "RRL"] <- 'red'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, lwd = 3, cex = 0.5)
dftest = df['site' == 'RRL']
dftest
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
dftest = df['site' == 'RRL']
dftest
df_sub <- subset(df, site == 'RRL')
df_sub
df_sub[0]
df1 = df_sub[1]
df1
df1 = df_sub[][1]
df1 = df_sub[1;]
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
df_sub <- subset(df, team == 'A' & points < 20)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
df_sub <- subset(df, site == 'RRL)
df_sub <- subset(df, site == 'RRL)
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
df_sub <- subset(df, site == 'RRL)
df_sub <- subset(df, site == 'RRL)
df_sub <- subset(df, site == 'RRL)
require(vegan)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
subset(df, site == 'RRL')
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
subset(df, site == 'RRL')
df1 = df_sub[0:]
df1 = df_sub[0:,]
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
df_sub <- subset(df, site == 'RRL')
df1 = df_sub[0:,]
df1 = df_sub[0,]
df1
df1 = df_sub[0:1,]
df1
View(df1)
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
df_sub <- subset(df, site == 'RRL')
df1 = df_sub[1,]
df1
sum(df1 != 0)
sum(df_sub != 0)
for (i in df_sub)
{
print(sum(i != 0))
}
dim(df_sub)
print(i)
for (i in 1:10)
{
print(i)
#print(sum(i != 0))
}
for (i in 1:10)
{
print(sum(df_sub[i,] != 0))
}
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
df_sub <- subset(df, site == 'RRL')
dim(df_sub)
for (i in 1:dim(df_sub))
{
print(sum(df_sub[i,] != 0))
}
dim(df_sub)
dim(df_sub[0])
dim(df_sub[0][0])
for (i in 1:dim(df_sub)[0])
{
print(sum(df_sub[i,] != 0))
}
dim(df_sub[0])
dim(df_sub[1][0])
dim(df_sub[1][0][0])
nrow(df_sub)
for (i in 1:nrow(df_sub))
{
print(sum(df_sub[i,] != 0))
}
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
df_sub <- subset(df, site == 'RRL')
nrow(df_sub)
for (i in 1:nrow(df_sub))
{
print(sum(df_sub[i,] != 0))
}
df <- read.csv("202107_phylum_with_site.csv", header = TRUE, sep = ",")
df_sub <- subset(df, site == 'FRW')
nrow(df_sub)
for (i in 1:nrow(df_sub))
{
print(sum(df_sub[i,] != 0))
}
df_sub <- subset(df, site == 'RRL')
nrow(df_sub)
for (i in 1:nrow(df_sub))
{
print(sum(df_sub[i,] != 0))
}
df_sub <- subset(df, site == 'FRW')
nrow(df_sub)
for (i in 1:nrow(df_sub))
{
print(sum(df_sub[i,] != 0))
}
require(vegan)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
unique(df[c('site')])
require(vegan)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
unique(df[c('site')])
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, lwd = 3, cex = 0.5)
setwd("C:/Users/15505/Documents/GitHub/research_project/rarefaction_curve")
df_sub <- subset(df, site == 'SKY')
nrow(df_sub)
for (i in 1:nrow(df_sub))
{
print(sum(df_sub[i,] != 0))
}
df_sub <- subset(df, site == 'KCKT')
nrow(df_sub)
for (i in 1:nrow(df_sub))
{
print(sum(df_sub[i,] != 0))
}
df <- read.csv("202109_phylum_with_site.csv", header = TRUE, sep = ",")
unique(df[c('site')])
numsites = (dim(unique(df[c('site')]))[1])
print(numsites)
coldf = df[c('site')]
coldf[coldf == "WART"] <- 'darkred'
coldf[coldf == "SBR"] <- 'forestgreen'
coldf[coldf == "BTU"] <- 'hotpink'
coldf[coldf == "SKY"] <- 'blue'
coldf[coldf == "BLDTTT"] <- 'red'
coldf[coldf == "KCKT"] <- 'orange'
# Convert the color list to a vector
collist <- as.vector(unlist(coldf))
df1 <- df
df2 <- df1
df2[df2 == 0] <- 25
min_df =  min(df2[][5:ncol(df2)])
min_df
df1[][5:ncol(df1)] = df1[][5:ncol(df1)] / min_df
df1[][5:ncol(df1)] = trunc(df1[][5:ncol(df1)])
print(df1[][5:7])
raremax <- min(rowSums(df1[][5:ncol(df1)]))
S <- specnumber(df1)
Srare <- rarefy(df1[][5:ncol(df1)], raremax)
# Plot the rarefaction curve with colored lines
rarecurve(df1[][5:ncol(df1)], step = 20, sample = raremax, col = collist, lwd = 2, cex = 0.5)
